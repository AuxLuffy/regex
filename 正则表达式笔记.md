学习资料：

[编程胶囊-打造学习编程的最好系统 (codejiaonang.com)](https://codejiaonang.com/#/course/regex_chapter2/0/5)

在线练习：

[RegExr: 学习、构建 和 测试 正则表达式 Test RegEx (regexr-cn.com)](https://regexr-cn.com/)

正则表达式在线生成各种代码工具：

[正则表达式生成器，常用正则表达式在线生成 (sojson.com)](https://www.sojson.com/regex/generate)

unicode字符查询网站

[Unicode - Unicode 字符百科 (unicode-table.com)](https://unicode-table.com/cn/blocks/)

正则表达式在java语言中的应用

[(13条消息) 史上最全正则表达式语法，文末附常用表达式！_藏经阁-CSDN博客_正则表达式语法](https://blog.csdn.net/William0318/article/details/102775217)

# 初级

## `匹配`多个字符

``` 
[a-f1-9]
```

## 匹配不包含某个字符的串（取反）

```
[^a]   不包含a的串
```

## 转义

```
\.\[\]\(\)
```

## 快速匹配

### 匹配字母数字

```
\w				与任意单词字符匹配，任意单词字符表示 [A-Z]、[a-z]、[0-9]、_
\d				与任意数字匹配
```

### 匹配空白

```
\s
```

### 单词边界

```
\bmaster\b  	有边界的单词master
```

### 快速匹配取反

```
\W   相当于对\w的取反
```

### 开始和结束

``` 
^Miss  	以Miss开头
$end		以end结尾
```

### 任意字符

   `.`  字符代表匹配任何单个字符，它只能出现在方括号外

`注意`：`.`字符不能匹配换行符`\n`，让`.`字符与换行符与换行符匹配也是可以的，需要特殊操作。

### 可选字符

同时匹配honor和honour两个单词

```
honu?or
```

## 匹配多个数据

### 重复

匹配9个娄字

```
\d{9}
```

### 重复区间

匹配5-10位数字

```
\d{5,10}   		贪婪匹配
\d{5,10}			非贪婪匹配
```

### 开闭区间

匹配一个或无数个数字

```
\d{1,}
等同于
\d+

\d{0,}
等同于
\d*
```

# 进阶

## 分组

分组的引入：

```
aaa<title>dream world</title>bbb
```

如果想提取上面的标题`dream world`用之前的方式就无法实现了，因为之前的只是做匹配，没法提取出数据中有用的东西，所以需要使用`分组`。

### 捕获分组

要想提取上面的标题就需要下面的正则表达式：

```
<title>(.*?)</title>
```

### 回溯引用

分组就是使用 `()` 将多个数据看成一个整体，且后续可以使用编号引用到些数据，即`后溯引用`，英文 `back reference`，引用可以写成\n，其中n即是编号，表示第几个分组，是按单括号`()`来从1自增的

所以要想提取上面的成对标签里的标题就可以写成以下：

```
<(\w+)>(.*?)<(\1)>
```

### 非捕获分组

非捕获分组就是虽然有括号的意义但是括号内的整体不参与引用编号，也不捕获，仅仅是一个整体，就可以用  `?:` 来表示，例如：

提取下面数据里的电话号码，不要区号：

```
012-72502						72502
tel:72502						72502
0731-75855					75855
```

就可以用下面的表达式来提取：

```
(?:\d{2,}|tel)[\:\-](\d{5})
```

## 断言

断言只是确认是否包含，只是匹配语句不参与捕获分组，即将符合表达式的字句过滤一遍，`表达式还是要写的`

### 先行断言

别称：预搜索

#### 正向先行断言

定义：`（?=表达式）`，指在某个位置向右看，表示所在位置右侧必须能匹配表达式

例如：

``` 
我喜欢你 我喜欢 我喜欢我 喜欢 喜欢你
```

取出  `喜欢`  后面有 `你` 的  `喜欢` 就可以用

```
喜欢(?=你)
```

这里匹配的会有第一个和最后一个

#### 反向先行断言

定义：`(?!表达式)` ， 跟正向先行断言相反，表示所在位置右侧不能匹配表达式

例如，将下列不是123标签的标签找出来

```
<title>测试页</title>
<123>adsl<123>
<title>im.s</content>
```

就可以用下面的表达式：

```
<(?!123)(\w+)>.*?<\/\1>
```

* 步骤是：

  1. 先写表达式，把标签找出来

  ```
  <(\w+)>.*?<\/\1>
  ```

  2. 再把要去过滤的数据给过滤掉，即在第一个`<`后面搜索不存在123的标签，即表达式`(?!123)`

  ```
  <(?!123)(\w+)>.*?<\/\1>
  ```

### 后行断言

别称：环视

先行断言和后行断言的区别是看的方向不同而已，即`先行断言从左往右看，后行断言从右往左看`。

#### 正向后行断言

定义：`(?<=表达式)` ，指在某个位置往左侧看，所在位置必须能匹配表达式

例如，取出  `喜欢` 二字，且后面有`你`，前面有`我`，就可以使用表达式：

```
(?<=我)喜欢(?=你)
```

#### 反向后行断言

定义：`(?<!表达式)` ，指在某个位置往左侧看，所在位置必须不能匹配表达式

例如，取出  `喜欢` 二字，且后面不是`你`，前面不是`我`，就可以使用表达式：

```
(?<!我)喜欢(?!你)
```

#### 
